/**
     * @license
     * author: ace53thntu <ace53thntu@gmail.com>
     * video-sdk-ima.js v1.0.0
     * Released under the MIT license.
     */
!function(t){"use strict";var e=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),i=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function n(t){return Object.assign({muted:!1,timeout:250,inline:!1},t)}function o(t,e){var i=t.muted,n=t.timeout,o=t.inline,s=e(),r=s.element,l=s.source,d=void 0,a=void 0,u=void 0;return r.muted=i,!0===i&&r.setAttribute("muted","muted"),!0===o&&r.setAttribute("playsinline","playsinline"),r.src=l,new Promise((function(t){d=r.play(),a=setTimeout((function(){u(!1,new Error("Timeout "+n+" ms has been reached"))}),n),u=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.remove(),r.srcObject=null,clearTimeout(a),t({result:e,error:i})},void 0!==d?d.then((function(){return u(!0)})).catch((function(t){return u(!1,t)})):u(!0)}))}var s={audio:function(t){return o(t=n(t),(function(){return{element:document.createElement("audio"),source:URL.createObjectURL(e)}}))},video:function(t){return o(t=n(t),(function(){return{element:document.createElement("video"),source:URL.createObjectURL(i)}}))}},r=function(t){return new RegExp("(^|[^A-Za-z-])"+t+"((?![A-Za-z-])|$)","gi")},l=function(t,e){t.className=t.className.trim()+" "+e},d=function(t,e){var i=r(e);t.className=t.className.trim().replace(i,"")},a=function(t,e){return r(e).test(t.className)},u=function(t){this.controller=t,this.adContainerDiv=document.getElementById("adContainer"),this.controlsDiv=document.getElementById("ima-controls-div"),this.countdownDiv=document.getElementById("ima-countdown-div"),this.seekBarDiv=document.getElementById("ima-seek-bar-div"),this.progressDiv=document.getElementById("ima-progress-div"),this.playPauseDiv=document.getElementById("ima-play-pause-div"),this.muteDiv=document.getElementById("ima-mute-div"),this.sliderDiv=document.getElementById("ima-slider-div"),this.sliderLevelDiv=document.getElementById("ima-slider-level-div"),this.fullscreenDiv=document.getElementById("ima-fullscreen-div"),this.boundOnMouseUp=this.onMouseUp.bind(this),this.boundOnMouseMove=this.onMouseMove.bind(this),this.showCountdown=!0,!1===this.controller.getSettings().showCountdown&&(this.showCountdown=!1),this.isAdNonlinear=!1,this.isFullscreen=!1,this.fullscreenWidth=0,this.fullscreenHeight=0,this.createAdContainer()};u.prototype.getAdContainerDiv=function(){return this.adContainerDiv},u.prototype.createAdContainer=function(){this.adContainerDiv.addEventListener("mouseenter",this.showAdControls.bind(this),!1),this.adContainerDiv.addEventListener("mouseleave",this.hideAdControls.bind(this),!1),this.createControls()},u.prototype.createControls=function(){this.controlsDiv.style.width="100%",this.controller.getIsMobile()?this.countdownDiv.style.display="none":(this.countdownDiv.innerHTML=this.controller.getSettings().adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none"),this.seekBarDiv.style.width="100%",l(this.playPauseDiv,"ima-playing"),this.playPauseDiv.addEventListener("click",this.onAdPlayPauseClick.bind(this),!1),l(this.muteDiv,"ima-non-muted"),this.muteDiv.addEventListener("click",this.onAdMuteClick.bind(this),!1),this.sliderDiv.addEventListener("mousedown",this.onAdVolumeSliderMouseDown.bind(this),!1),this.controller.getIsIos()&&(this.sliderDiv.style.display="none"),l(this.fullscreenDiv,"ima-non-fullscreen"),this.fullscreenDiv.addEventListener("click",this.onAdFullscreenClick.bind(this),!1),document.addEventListener("fullscreenchange",this.exitFullscreenListener.bind(this),!1),document.addEventListener("webkitfullscreenchange",this.exitFullscreenListener.bind(this),!1),document.addEventListener("mozfullscreenchange",this.exitFullscreenListener.bind(this),!1),document.addEventListener("MSFullscreenChange",this.exitFullscreenListener.bind(this),!1)},u.prototype.setFullscreen=function(){this.isFullscreen=!0,this.setAdContainerSize(this.fullscreenWidth,this.fullscreenHeight)},u.prototype.getFullscreenWidth=function(){return this.fullscreenWidth},u.prototype.getFullscreenHeight=function(){return this.fullscreenHeight},u.prototype.exitFullscreen=function(){this.isFullscreen=!1;var t=this.controller.getPlayerWidth(),e=this.controller.getPlayerHeight();this.setAdContainerSize(t,e)},u.prototype.exitFullscreenListener=function(){!(document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)&&this.controller.toggleFullscreen()},u.prototype.requestFullscreenHandler=function(){var t=document.documentElement;t.requestFullscreen?(this.fullscreenWidth=window.screen.width,this.fullscreenHeight=window.screen.height,t.requestFullscreen(),this.controller.toggleFullscreen()):t.webkitRequestFullscreen?(this.fullscreenWidth=window.screen.width,this.fullscreenHeight=window.screen.height,t.webkitRequestFullscreen(),this.controller.toggleFullscreen()):t.msRequestFullscreen?(this.fullscreenWidth=window.screen.width,this.fullscreenHeight=window.screen.height,t.msRequestFullscreen(),this.controller.toggleFullscreen()):(this.fullscreenWidth=window.innerWidth,this.fullscreenHeight=window.innerHeight,this.controller.toggleFullscreen())},u.prototype.exitFullscreenHandler=function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},u.prototype.onAdFullscreenClick=function(){this.isFullscreen?this.exitFullscreenHandler():this.requestFullscreenHandler()},u.prototype.setAdContainerSize=function(t,e){this.adContainerDiv.style.width=t,this.adContainerDiv.style.height=e},u.prototype.onAdVolumeSliderMouseDown=function(){document.addEventListener("mouseup",this.boundOnMouseUp,!1),document.addEventListener("mousemove",this.boundOnMouseMove,!1)},u.prototype.unmute=function(){a(this.muteDiv,"ima-non-muted")||l(this.muteDiv,"ima-non-muted"),d(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*this.controller.getPlayerVolume()+"%"},u.prototype.mute=function(){a(this.muteDiv,"ima-muted")||l(this.muteDiv,"ima-muted"),d(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"},u.prototype.onAdMuteClick=function(){this.controller.onAdMuteClick()},u.prototype.onAdPlayPauseClick=function(){this.controller.onAdPlayPauseClick()},u.prototype.onAdsPaused=function(){this.controller.sdkImpl.adPlaying=!1,a(this.playPauseDiv,"ima-paused")||l(this.playPauseDiv,"ima-paused"),d(this.playPauseDiv,"ima-playing"),this.showAdControls()},u.prototype.onAdsPlaying=function(){this.controller.sdkImpl.adPlaying=!0,a(this.playPauseDiv,"ima-playing")||l(this.playPauseDiv,"ima-playing"),d(this.playPauseDiv,"ima-paused")},u.prototype.onAllAdsCompleted=function(){},u.prototype.updateAdUi=function(t,e,i,n,o){var s=Math.floor(e/60),r=Math.floor(e%60);e<0&&(s=0,r=0),r.toString().length<2&&(r="0"+r);var l=": ";o>1&&(l=" ("+n+" "+this.controller.getSettings().adLabelNofN+" "+o+"): "),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel+l+s+":"+r;var d=100*(t/i);this.progressDiv.style.width=d+"%"},u.prototype.onAdsResumed=function(){this.onAdsPlaying(),this.showAdControls()},u.prototype.onAdError=function(){this.hideAdContainer()},u.prototype.hideAdContainer=function(){this.adContainerDiv.style.display="none"},u.prototype.showAdContainer=function(){this.adContainerDiv.style.display="block"},u.prototype.showAdControls=function(){this.controller.getSettings().disableAdControls||a(this.controlsDiv,"ima-controls-div-showing")||l(this.controlsDiv,"ima-controls-div-showing")},u.prototype.hideAdControls=function(){d(this.controlsDiv,"ima-controls-div-showing")},u.prototype.onMouseUp=function(t){this.changeVolume(t),document.removeEventListener("mouseup",this.boundOnMouseUp),document.removeEventListener("mousemove",this.boundOnMouseMove)},u.prototype.onMouseMove=function(t){this.changeVolume(t)},u.prototype.changeVolume=function(t){var e=(t.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;e*=100,e=Math.min(Math.max(e,0),100),this.sliderLevelDiv.style.width=e+"%",0===e?(a(this.muteDiv,"ima-muted")||l(this.muteDiv,"ima-muted"),d(this.muteDiv,"ima-non-muted")):(a(this.muteDiv,"ima-non-muted")||l(this.muteDiv,"ima-non-muted"),d(this.muteDiv,"ima-muted")),this.controller.setVolume(e/100)},u.prototype.reset=function(){this.hideAdContainer()};var h=function(t){this.controller=t,this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.adsResponse=null,this.currentAd=null,this.adTrackingTimer=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener=void 0,this.contentCompleteCalled=!1,this.isAdTimedOut=!1,this.adsManagerDimensions={width:0,height:0}};h.prototype.playAds=function(){this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start(),this.adPlaying=!0,this.adsActive=!0},h.prototype.pauseAds=function(){this.adsManager.pause(),this.adPlaying=!1},h.prototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},h.prototype.initializeAdDisplayContainer=function(){this.adDisplayContainer&&(this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=!0))},h.prototype.initAdObjects=function(){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.controller.getAdContainerDiv()),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1)},h.prototype.onPlayerReady=function(){this.initAdObjects(),this.controller.getSettings().vastTag&&this.requestAds()},h.prototype.onAdsLoaderError=function(t){window.console.warn("AdsLoader error: "+t.getError()),this.controller.onErrorLoadingAds(t),this.adsManager&&this.adsManager.destroy()},h.prototype.requestAds=function(){var t=new google.ima.AdsRequest;t.adTagUrl=this.controller.getSettings().vastTag,t.linearAdSlotWidth=this.controller.getPlayerWidth(),t.linearAdSlotHeight=this.controller.getPlayerHeight(),t.setAdWillAutoPlay(this.controller.adsWillAutoplay()),t.setAdWillPlayMuted(this.controller.adsWillPlayMuted()),this.adsLoader.requestAds(t)},h.prototype.onAdsManagerLoaded=function(t){this.createAdsRenderingSettings(),this.adsManager=t.getAdsManager(this.controller.getContentPlayheadTracker(),this.adsRenderingSettings),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed.bind(this)),this.initAdsManager()},h.prototype.initAdsManager=function(){try{var t=this.controller.getPlayerWidth(),e=this.controller.getPlayerHeight();this.adsManagerDimensions.width=t,this.adsManagerDimensions.height=e,this.adsManager.init(t,e,google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.initializeAdDisplayContainer(),this.controller.adUi.controlsDiv.style.display="block",this.playAds()}catch(t){this.onAdError(t)}},h.prototype.onAdResumed=function(t){this.controller.onAdsResumed()},h.prototype.onAdStarted=function(t){this.currentAd=t.getAd(),this.currentAd.isLinear()&&(this.adTrackingTimer=setInterval(this.onAdPlayheadTrackerInterval.bind(this),250))},h.prototype.onAdPlayheadTrackerInterval=function(){if(null!==this.adsManager){var t=this.adsManager.getRemainingTime(),e=this.currentAd.getDuration(),i=e-t;i=i>0?i:0;var n,o=0;this.currentAd.getAdPodInfo()&&(n=this.currentAd.getAdPodInfo().getAdPosition(),o=this.currentAd.getAdPodInfo().getTotalAds()),this.controller.onAdPlayheadUpdated(i,t,e,n,o)}},h.prototype.onAllAdsCompleted=function(t){this.allAdsCompleted=!0,this.controller.onAllAdsCompleted()},h.prototype.isAdMuted=function(){return this.adMuted},h.prototype.unmute=function(){this.adsManager.setVolume(1),this.adMuted=!1},h.prototype.mute=function(){this.adsManager.setVolume(0),this.adMuted=!0},h.prototype.isAdPlaying=function(){return this.adPlaying},h.prototype.onAdError=function(t){var e=void 0!==t.getError?t.getError():t.stack;window.console.warn("Ad error: "+e),this.adsManager.destroy(),this.controller.onAdError(t),this.adsActive=!1,this.adPlaying=!1},h.prototype.createAdsRenderingSettings=function(){this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.adsRenderingSettings.mimeTypes=["application/x-mpegURL","video/mp4","video/mpeg","video/ogg","video/3gpp","video/webm","application/dash+xml"]},h.prototype.exitFullscreen=function(){var t=this.controller.getPlayerWidth(),e=this.controller.getPlayerHeight();this.adsManager.resize(t,e,google.ima.ViewMode.NORMAL)},h.prototype.setFullscreen=function(){var t=this.controller.getFullscreenWidth(),e=this.controller.getFullscreenHeight();this.adsManager.resize(t,e,google.ima.ViewMode.FULLSCREEN)},h.prototype.setVolume=function(t){this.adsManager.setVolume(t),this.adMuted=0===t},h.prototype.reset=function(){this.adsActive=!1,this.adPlaying=!1,this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.allAdsCompleted=!1};var c=function(t){var e=this;this.settings={},this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i),this.initWithSettings(t),this.autoplayAllowed=!1,this.autoplayRequiresMute=!1,this.checkUnmutedAutoplaySupport().then((function(){e.adUi=new u(e),e.sdkImpl=new h(e),e.sdkImpl.onPlayerReady(),e.autoplayRequiresMute?(e.adUi.mute(),e.sdkImpl.adMuted=!0):(e.adUi.unmute(),e.sdkImpl.adMuted=!1)}))};c.IMA_DEFAULTS={adLabel:"Advertisement",adLabelNofN:"of",debug:!1,disableAdControls:!1,prerollTimeout:1e3,preventLateAdStart:!1,requestMode:"onLoad",showControlsForJSAds:!0,timeout:5e3},c.prototype.onErrorLoadingAds=function(t){this.adUi.onAdError()},c.prototype.getPlayerVolume=function(){return this.autoplayRequiresMute?0:1},c.prototype.checkUnmutedAutoplaySupport=function(){var t=this;return new Promise((function(e){s.video({timeout:100,muted:!1}).then((function(i){!1===i.result?e(t.checkMutedAutoplaySupport()):(t.autoplayAllowed=!0,t.autoplayRequiresMute=!1,e())}))}))},c.prototype.checkMutedAutoplaySupport=function(){var t=this;return new Promise((function(e){s.video({timeout:100,muted:!0}).then((function(i){!1===i.result?(t.autoplayAllowed=!1,t.autoplayRequiresMute=!1):(t.autoplayAllowed=!0,t.autoplayRequiresMute=!0),e()}))}))},c.prototype.onAdPlayheadUpdated=function(t,e,i,n,o){this.adUi.updateAdUi(t,e,i,n,o)},c.prototype.changeAdTag=function(t){this.reset(),this.settings.vastTag=t},c.prototype.reset=function(){this.sdkImpl.reset(),this.adUi.reset()},c.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()},c.prototype.onAllAdsCompleted=function(){this.adUi.onAllAdsCompleted()},c.prototype.onAdMuteClick=function(){var t=this.sdkImpl.isAdMuted();this.autoplayRequiresMute=!t,t?(this.adUi.unmute(),this.sdkImpl.unmute()):(this.adUi.mute(),this.sdkImpl.mute())},c.prototype.onAdPlayPauseClick=function(){this.sdkImpl.isAdPlaying()?(this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()):(this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())},c.prototype.getIsIos=function(){return this.isIos},c.prototype.adsWillAutoplay=function(){return this.autoplayAllowed},c.prototype.adsWillPlayMuted=function(){return this.autoplayRequiresMute},c.prototype.getPlayerWidth=function(){return this.settings.width},c.prototype.getPlayerHeight=function(){return this.settings.height},c.prototype.onAdError=function(t){this.adUi.onAdError()},c.prototype.showAdContainer=function(){this.adUi.showAdContainer()},c.prototype.getContentPlayheadTracker=function(){return document.createElement("video")},c.prototype.getIsMobile=function(){return this.isMobile},c.prototype.getAdContainerDiv=function(){return this.adUi.getAdContainerDiv()},c.prototype.initializeAdDisplayContainer=function(){this.sdkImpl.initializeAdDisplayContainer()},c.prototype.getSettings=function(){return this.settings},c.prototype.setVolume=function(t){this.sdkImpl.setVolume(t)},c.prototype.toggleFullscreen=function(){this.adUi.isFullscreen?(this.adUi.exitFullscreen(),this.sdkImpl.exitFullscreen()):(this.adUi.setFullscreen(),this.sdkImpl.setFullscreen())},c.prototype.getFullscreenWidth=function(){return this.adUi.getFullscreenWidth()},c.prototype.getFullscreenHeight=function(){return this.adUi.getFullscreenHeight()},c.prototype.initWithSettings=function(t){this.settings=this.extend({},c.IMA_DEFAULTS,t||{}),this.warnAboutDeprecatedSettings(),this.showCountdown=!0,!1===this.settings.showCountdown&&(this.showCountdown=!1)},c.prototype.warnAboutDeprecatedSettings=function(){var t=this;["adWillAutoplay","adsWillAutoplay","adWillPlayMuted","adsWillPlayMuted"].forEach((function(e){void 0!==t.settings[e]&&console.warn("WARNING: Aicactus video sdk ima setting "+e+" is deprecated")}))},c.prototype.extend=function(t){for(var e,i,n,o=arguments.length,s=new Array(o>1?o-1:0),r=1;r<o;r++)s[r-1]=arguments[r];for(i=0;i<s.length;i++)for(n in e=s[i])e.hasOwnProperty(n)&&(t[n]=e[n]);return t};var p=function(t){this.controller=new c(t)};t.init=function(t){new p(t)},Object.defineProperty(t,"__esModule",{value:!0})}(this["video-sdk-ima"]=this["video-sdk-ima"]||{});
